<%= render "shared/navbar" %>
<%= render "shared/flash" %>
<h1>Accounts</h1>


<div class="row g-3">
  <% @accounts.each do |account| %>
    <div class="col-md-6 col-lg-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="member-info">
            <p><strong>ID:</strong> <%= account.id %></p>
            <p><strong>Username:</strong> <%= account.username %></p>
            <p><strong>Role:</strong> <%= account.role %></p>
          </div>

          <%= form_with(model: account, url: account_path(account), method: :put, local: true, class: "d-flex justify-content-center gap-2 mb-2") do |f| %>
            <%= f.label :role, "Role" %>
            <%= f.select :role, options_for_select(["user", "organizer", "admin"], account.role), class: "form-select w-auto" %>
            <%= f.submit "Update Role", class: "btn btn-sm btn-primary", data: { turbo_confirm: "Are you sure you want to change this user's role?" } %>
          <% end %>


          <div class="text-center">
            <%= button_to "Delete", account_path(account), method: :delete, class: "btn btn-sm btn-danger", data: { turbo_confirm: "Are you sure you want to delete this account?" } %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>

