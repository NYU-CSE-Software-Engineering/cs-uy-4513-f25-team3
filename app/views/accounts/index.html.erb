<h1>Accounts</h1>
<% if flash[:notice] %>
  <p class="notice"><%= flash[:notice] %></p>
<% end %>

<% if flash[:alert] %>
  <p class="alert"><%= flash[:alert] %></p>
<% end %>

<% @accounts.each do |account| %>
    <div class="account" data-username="<%= account.username %>">
        <p><strong>ID:</strong> <%= account.id %></p>
        <p><strong>Username:</strong> <%= account.username %></p>
        <p><strong>Role:</strong> <%= account.role %></p>

        <%= form_with(model: account, url: account_path(account), method: :put, local: true) do |f| %>
            <%= f.label :role %>
            <%= f.select :role, options_for_select(["user", "organizer", "admin"], account.role) %>
            <%= f.submit "Update Role", data: { turbo_confirm: "Are you sure you want to change this user's role?" } %>
        <% end %>

        <%= button_to "Delete",account_path(account),method: :delete, data: { turbo_confirm: "Are you sure you want to delete this account?" } %>

        <hr>
    </div>
<% end %>